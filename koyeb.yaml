name: downloader-api
routes:
  - path: /
    port: 8000
    protocol: http

build:
  builder: dockerfile
  dockerfile: Dockerfile

env:
  - name: NODE_ENV
    value: production
  - name: CACHE_TTL
    value: "300000"
  - name: MAX_DOWNLOAD_SIZE
    value: "100mb"

scaling:
  min: 1
  max: 3

resources:
  cpu: 1000
  memory: 2048

deployment:
  strategy: rolling_update
  max_surge: 1
  max_unavailable: 0